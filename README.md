iteration 2 of new readme.md  
cleaned up the new line stuff  
temporary bad build ""instructions""  
check for grammar issues  


# SourceBuild++

SourceBuild++ is a project that modifies the Source SDK map compile tools to bring them up to modern standards.
The goal is to improve performance, and take the load off of the CPU.

The plan is to modernize all 3 tools.
- quickVIS - faster VVIS (first iteration already done)
- quickRAD - planned faster VRAD (potentially unfeasible due to complexity of light calculations (yes, I'm too stupid for this)
- quickBSP - potential patches for VBSP (if needed)

---

**Table of Contents**
[About](#about-this-release) • [Supported SDKs](#supported-sdks-and-games) • [Project Status](#project-status) • [Building](#building-the-project) • [Roadmap](#roadmap)

---

## About This Release

This project ended up taking a lot longer to release than I expected.  
I'll admit, I was overambitious with all the promises and whatnot. I thought I'd handle it, but due to exams and other real life events, I simply didn't have the time to work on this project.  
I was also quite discouraged after realizing that portal files are generated by VBSP, not VVIS, which essentially meant I lied in my showcase video that the build results were identical.  
The current build is actually pretty bad, practically useless in fact. On big maps like TF2's doublecross, there was a noticeable 100FPS difference between a VVIS and quickVIS build.  
Even after all that, I'm still gonna keep working on it, it's my first serious project after all. A more polished "final compile" build will hopefully come once I finally have the time to work on it properly.  
To everyone who supported and gave feedback on the initial video's release, thank you, I probably would've just scrapped this and called it a day if it wasn't for you.  
And to everyone I've disappointed and practically lied to about how effective the mod was, I'm sorry, I really didn't mean for it to turn out this way.  

---

## Supported SDKs and Games

The main branch is based on the Source SDK 2013 Multiplayer (TF2 x64 update).  
Other branches should be self-explanatory based on their names.  

Stock Hammer is supported, as well as Hammer++. Slammin' Source support is being looked into.  
Portal 2 and Left 4 Dead 2 might be supported way down the line, depending on how well their community-made SDKs work.  
Garry's Mod most likely won't ever be supported due to proprietary code issues.  

---

## Project Status

quickVIS is partially working, it accelerates the PortalFlows step using GPU compute (DirectX 11). Accuracy improvements are planned.  
quickRAD is in the planning stage and might be a lot harder to pull off due to how complex light baking is.  
quickBSP might happen if there's ever a real need to patch VBSP itself.  

---

## Building the Project

You'll need Visual Studio 2022 or newer, the Windows 10 SDK, and C++ build tools installed. (Note: This only applies to the TF2 x64 build. The older 2013 builds need a completely different setup.)  
A full build guide will be added later once things are more finalized.  
Temporary TL;DR is:  
Get a copy of the Source SDK's source code from Valve's Github, paste the folder into the main source code folder, follow the usual build instructions (like changing to x64 Release instead of Debug, etc.)  
hopefully it just works?
If it doesn't, try this:
- Build the unedited TF2 source code first.
- Replace the `void PortalFlow` function in `flow.cpp` with:

```cpp
extern "C" void PortalFlow_DX11_Batch(int iThread, int dummyPortalnum);

void PortalFlow(int iThread, int portalnum)
{
    // In batch mode, we ignore the per-portal number and process all portals in one go.
    PortalFlow_DX11_Batch(iThread, portalnum);
}
```
Paste the `portalflow_dx11_batch.cpp` file next to it and it should work. (if not then either it's a massive skill issue or I'm way shittier at coding than I thought.)

---

## Roadmap

Right now the focus is on finishing and validating quickVIS.  
Eventually, I also want to clean up this GitHub page with proper build instructions and other missing stuff.  
What happens after that? We'll see, chances are we'll never leave the quickVIS patching stage lol  
